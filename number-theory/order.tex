% $File: order.tex
% $Date: Tue Feb 07 22:22:30 2012 +0800
% $Author: wyx <ppwwyyxxc@gmail.com> 

\section{Order}
Definition: $  \delta_m(a)=\min \{x|a^x \equiv 1 \pmod m\} $ 

推广: $ a^d\equiv b^d \pmod p$,取倒数$ bb'\equiv1\pmod p$,则$ d=\delta_p(ab')$.性质类似
\\

若$ a^n \equiv 1 \pmod m$ ,则 $ \delta_m(a)\mid n $ .
否则设$ n=\delta_m(a)q+r,a^r \equiv a^n \equiv 1 $且$ r<\delta_m(a)$.矛盾

特别地,若 $ a^p\equiv 1 \pmod m$ , 则 $ \delta_m(a)=1 $ 或$ p$ 

Mersenne's Prime的因子特征:$ q\mid 2^p-1\Rightarrow p=\delta_q(2)\mid (q-1)\Rightarrow q\equiv 1 \pmod{2p} $ 
\\

$ (a,p)=1$,则在$ p^0,p^1,\ldots p^{a-1} \pmod a$中抽屉得 $ \exists d \le a-1: a|p^d-1\Rightarrow \delta_p(a)\le a-1$
\\

证明$ n \nmid 2^n-1$:

设$ n$最小素因子$ p$,则$ \delta_p(2) \mid (p-1,n)=(p-1,\frac{n}{p^{\alpha}})=1$.

或者利用递降:$ n\rightarrow \delta_n(2) ; (a,b)\rightarrow (b,(a,b))$
\\

$ n\mid 2^n+1\Rightarrow \delta_p(2)\mid (2n,p-1)=(2,p-1)\Rightarrow p=3$.

事实上有$ 3^k \mid 2^{3^k}+1$,以及$ n\mid 2^n+1 \Rightarrow m\mid 2^m+1,m=2^n+1$
\\

反证$ n \nmid m^{n-1}+1$:

设$ n-1=2^kt\Rightarrow m^{2^kt}\equiv -1 \pmod p\Rightarrow \delta_p(m)\nmid 2^kt,\delta_p(m)\mid 2^{k+1}t\Rightarrow 2^{k+1}\mid\delta_p(m)$

又$ \delta_p(m)\mid p-1,\therefore p \equiv 1 \pmod{2^{k+1}}.$
考虑到$ p$为$ n$任意素因子$ \Rightarrow n\equiv 1 \pmod{2^{k+1}}$,与$ n-1=2^kt$矛盾
\\
\\

关于$ r_k=\delta_{p^k}(a)$的求解($ p$为奇数).设$ p^{k_0}\parallel a^{r_1}-1$

i)当$ 1\le k \le k_0$时,$ a^{r_k}\equiv1 \pmod{p^k \rightarrow p}\Rightarrow r_1\mid r_k$

$ a^r\equiv1 \pmod{p^{k_0}\rightarrow p^k}\Rightarrow r_k\mid r_1. \therefore r_k=r_1$

ii)当$ k\ge k_0$时,对$k $归纳证明$ r_k=r_1 p^{k-k_0}$

引理:$ p^{k_0+i}\parallel a^{r_1p^i}-1\Leftrightarrow a^{r_1p^i}=1+p^{k_0+i}u,(u,p)=1$.

证明:归纳.
$ a^{r_1p^{i+1}}=(a^{r_1p^i})^p=(1+p^{k_0+i}u)^p=1+p^{k_0+i+1}(1+C_p^2u^2p^{k_0+i-1})$

引理中取$ i=k-k_0,$则$ a^{r_1p^{k-k_0}}\equiv 1 \pmod{p^k}\Rightarrow r_k \mid r_1p^{k-k_0}$

$ a^{r_k}\equiv 1\pmod{p^k \rightarrow p^{k-1}}\Rightarrow r_{k-1}\mid r_k \therefore r_1p^{k-k_0-1}\mid r_k \mid r_1p^{k-k_0}$

再取$ i=k-k_0-1$,由$ p^{k-1}\parallel a^{r_1p^{k-k_0-1}}-1$知$ a^{r_1p^{k-k_0-1}}\not \equiv 1 \pmod{p^k}.$

$  \therefore r_k=\left\{ \begin{matrix}r_1,1\le k \le k_0 \\ r_1p^{k-k_0},k\ge k_0 \end{matrix}\right. $
\\

$ r_k=\delta_{2^k}(a)$的求解:

i)$ a=4k+1,2^{k_0}\parallel a-1,r_k=\left\{ \begin{matrix} 1,1\le k \le k_0 \\ 2^{k-k_0},k\ge k_0 \end{matrix}\right.$ 

ii)$ a=4k+3,2^{k_0}\parallel a+1,r_k=\left\{ \begin{matrix} 1,k=1 \\ 2,2\le k\le k_0+1 \\ 2^{k-k_0},k\ge k_0+1 \end{matrix}\right.$
\\

引理的推广:$ a^{mrp^i}=1+p^{k_0+i}u,(u,p)=1.$

设$ n=mrp^i$可得一命题:$ r=\delta_p(a),r\mid n,p^{\alpha}\parallel n\Rightarrow p^{\alpha}\parallel \frac{a^n-1}{a^r-1} $
\\

反证:对给定$ n,a$,不存在无穷个$ k,s.t.n^k\mid a^k-1$

i)$ n$含奇因子$ p,a^k\equiv 1 \pmod {p^k}\Rightarrow r_k=r_1p^{k-k_0}\mid k\Rightarrow k>r_1p^{k-k_0}\ge 3^{k-k_0}$不可能无穷个

ii)若$ k$为奇,则$ 2^k\mid a^k-1\Rightarrow 2^k\mid a-1,$只有有限个$ k$.

若$ k$为偶,$ a^{2l}\equiv 1 \pmod{2^l}.$当$ l>k_0$时,$ 2^{l-k_0}\mid l$不可能无穷个.
\\
\\
$ r_k=\delta_m(a^k)=\frac{r_1}{(r_1,k)}$.

证:设$ r'=\frac{r_1}{(r_1,k)}$.显然$ (r',\frac{k}{(r_1,k)})=1$

由定义,$ a^{kr_k}\equiv 1 \pmod m, a^{kr'}\equiv 1 \pmod m. \Rightarrow  r_1 \mid kr_k,r_k\mid r'$

$ \therefore r' =\frac{r_1}{(r_1,k)}\mid \frac{k}{(r_1,k)}r_k\Rightarrow r' \mid r_k. \therefore r'=r_k$

推论:有$ \varphi(r_1)$个$ k,s.t.(r_1,k)=1.$又$ a^0,a^1,\cdots,a^{r_1-1}$对模$ m$不同余

所以其中至少有$ \varphi(r_1)$个$ k,s.t.\delta_m(a^k)=r_1$.

即在模$ m$的一个缩系中至少有$ \varphi(r_1)$个$ k,s.t.r_k=r_1$
\\

若$ (m_1,m_2)=1,$则$ \delta_{m_1m_2}(a)=[\delta_{m_1}(a),\delta_{m_2}(a)]=[r_1,r_2]$

证:i)显然对$ \forall n \mid m,\delta_n(a)\mid \delta_m(a). \therefore [r_1,r_2] \mid \delta_{m_1m_2}(a)$ 

ii)$ a^{[r_1,r_2]}\equiv 1 \pmod{m_1,m_2 \rightarrow m_1m_2}\Rightarrow \delta_{m_1m_2}\mid [r_1,r_2]$

推论:$ (m_1,m_2)=1$,则对$ \forall a_1,a_2,\exists a,s.t.\delta_{m_1m_2}(a)=[\delta_{m_1}(a_1),\delta_{m_2}(a_2)]$

证:取$ a\equiv a_i \pmod{m_i},i=1,2$.则$ \delta_{m_i}(a)=\delta_{m_i}(a_i)$.由原命题即证.
\\

$ \min\{ n|2^n\equiv -1 \pmod p\}<\delta_p(2),$否则 $,2^{n-\delta_p(2)}\equiv 2^n \equiv -1$,与最小性矛盾.
\\

$ p=3k+2$时,$ x$取$ \mod p$完系,则$ x^3$亦遍历.否则$ x^3\equiv y^3\Rightarrow \delta_p(xy^{-1})\mid(3,p-1)=1$.矛盾
\\

无穷数列$  \frac{1}{9}(10^{k\delta_{9a}(10)}-1)(k\ge1) $ 中,每项均由1组成且均为$ a$的倍数
\\

奇素$ p,p^n|a^p-1\Rightarrow p^{n-1}|a-1$
\\

$ \exists n,s.t.p\parallel2^n-1\Rightarrow p\parallel 2^{p-1}-1$

证:假设$ p^2 \mid 2^{p-1}-1\Rightarrow \delta_{p^2}(2)\mid p-1.$

又$ 2^{pn}-1=(2^n-1)(2^{n(p-1)}+2^{n(p-2)}+\cdots+2^n+1)\equiv(2^n-1)p\equiv 0\pmod{p^2}$

$ \therefore \delta_{p^2}(2)\mid (pn,p-1)=(n,p-1)\mid n\Rightarrow 2^n\equiv 1 \pmod {p^2}$.矛盾
\\

奇素数$ p,{pn+1}$中含无穷多素数:

证:取$ x^p-1$的因子$ q,s.t.q \nmid x-1$ (why can?).则$ \delta_q(x)=p$.

设$ (q-1,p)=d$ ,则$ \exists u,v,s.t.u(q-1)+vp=d\Rightarrow x^d\equiv(x^{q-1})^n(x^p)^v\equiv 1 \pmod q\Rightarrow d=p$ 

$ \therefore p\mid q-1\Leftrightarrow q=pn+1$.又$ \frac{x^p-1}{x-1}$含无穷个素因子$ q$,可知$ {pn+1}$中有无穷多素数
